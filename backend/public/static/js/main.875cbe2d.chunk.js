(this["webpackJsonpfront-happy-socks"]=this["webpackJsonpfront-happy-socks"]||[]).push([[0],{98:function(e,t,r){},99:function(e,t,r){"use strict";r.r(t);var n=r(0),s=r(1),a=r(31),c=r.n(a),i=r(7),l=r(8),o=r(10),u=r(9),d=r(11),j=r(13),h=(r.p,r(120)),p=r(121),m=r(116),b=r(117),f=r(122),O=r(3),g=r.n(O),v=r(5),x=r(51),y="/api/",k=r.n(x).a.create({withCredentials:!0}),C=function(e,t){return console.log("endpoint",e,"data",t),I(e,"GET",t)},w=function(e,t){return I(e,"POST",t)},S=function(e,t){return I(e,"PUT",t)},N=function(e,t){return I(e,"DELETE",t)};function I(e){return _.apply(this,arguments)}function _(){return(_=Object(v.a)(g.a.mark((function e(t){var r,n,s,a=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:"get",n=a.length>2&&void 0!==a[2]?a[2]:null,e.prev=2,e.next=5,k({url:"".concat(y).concat(t),method:r,data:n});case 5:return s=e.sent,console.log("method",t,r),console.log("res.data",s.data),e.abrupt("return",s.data);case 11:throw e.prev=11,e.t0=e.catch(2),console.log("Had Issues ".concat(r,"ing to the backend, endpoint: ").concat(t,", with data: ").concat(n)),console.dir(e.t0),e.t0.response&&401===e.t0.response.status&&window.location.assign("/#/login"),e.t0;case 17:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}var E={query:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t="";if(e){var r=e.title,n=e.type,s=e.color,a=e.tags,c=e.lowPrice,i=e.highPrice,l=e.userId;console.log("lowPrice",c),console.log("tags",a),console.log("userId",l),t+="?";var o=new URLSearchParams(t.search);s&&"clear"!==s&&o.set("color",s),r&&o.set("title",r),n&&"all"!==n&&o.set("type",n),c&&o.set("lowPrice",c),i&&o.set("highPrice",i),l&&"clear"!==l&&o.set("userId",l),a.length&&o.set("tags",a),t+=o.toString()}return console.log("url",t),C("item".concat(t))},removeItem:function(e){return console.log("itemID",e),N("item/".concat(e))},saveItem:function(e){return U.apply(this,arguments)}};function U(){return(U=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("item is:",t),t._id){e.next=7;break}return e.next=4,w("item/",t);case 4:return e.abrupt("return",e.sent);case 7:return e.next=9,S("item/".concat(t._id),t);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){return function(t){return E.query(e).then((function(e){t({type:"SET_ITEMS",items:e})}))}}function M(e){return console.log(e),function(t){return E.saveItem(e).then((function(r){var n={type:e._id?"SAVE_ITEM":"ADD_ITEM",item:r};console.log(e),t(n)}))}}function D(e){return console.log("remove"),function(t){return E.removeItem(e).then((function(r){t({type:"REMOVE_ITEM",itemId:e})}))}}function T(e){return console.log("filterBy is:",e),function(t){t({type:"FILTER",filterBy:e})}}var F={query:function(){return C("seller")}};function B(){return console.log("hi"),function(e){return F.query().then((function(t){e({type:"SET_SELLERS",sellers:t})}))}}var L=r(12),P=function(e){Object(o.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={},e}return Object(l.a)(r,[{key:"componentDidMount",value:function(){this.props.loadItems(),this.props.loadSellers()}},{key:"render",value:function(){return console.log("\ud83e\udde6HappySocks"),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("section",{className:"hero-image",children:[Object(n.jsx)("h2",{children:"Good things come in pairs..."}),Object(n.jsxs)("div",{className:"flex",children:[Object(n.jsx)(d.b,{className:"btn",to:"/shop",children:"\ud83e\udde6 Find your match"}),Object(n.jsx)(d.b,{className:"btn btn-2",to:"/item/600ab40822fe2c973b33a4cc",children:"\ud83c\udfb2 I'm feeling lucky"})]})]}),Object(n.jsx)("section",{children:Object(n.jsxs)("div",{className:"home main-container",children:[Object(n.jsxs)("section",{className:"item-cards full flex",children:[Object(n.jsx)(h.a,{children:Object(n.jsxs)(d.b,{to:"/item/600ab40822fe2c973b33a4d7",children:[Object(n.jsx)(m.a,{className:"card-media",image:"https://res.cloudinary.com/dt1zahrqy/image/upload/v1611584503/RsBR5qPA9m_ncoolg.png",title:"great stuff"}),Object(n.jsx)(p.a,{avatar:Object(n.jsx)(f.a,{src:"https://tinyfac.es/data/avatars/03F55412-DE8A-4F83-AAA6-D67EE5CE48DA-500w.jpeg",className:"small"}),title:"Shira Socks",subheader:"Best Seller \u2b50 4.2"})]})}),Object(n.jsx)(h.a,{children:Object(n.jsxs)(d.b,{to:"/item/600ab40922fe2c973b33a528",children:[Object(n.jsx)(m.a,{className:"card-media",image:"https://res.cloudinary.com/dt1zahrqy/image/upload/v1611581605/tlc0k3deyfydeqddr5a0.jpg",title:"great stuff"}),Object(n.jsx)(p.a,{avatar:Object(n.jsx)(f.a,{src:"https://tinyfac.es/data/avatars/FBEBF655-4886-455A-A4A4-D62B77DD419B-200w.jpeg",className:"small"}),title:"Joe stuff",subheader:"Top Seller \u2b50\u2b50\u2b50"})]})}),Object(n.jsx)(h.a,{children:Object(n.jsxs)(d.b,{to:"/item/600ab40822fe2c973b33a4f1",children:[Object(n.jsx)(m.a,{className:"card-media",image:"https://res.cloudinary.com/dt1zahrqy/image/upload/v1611582002/gptz9uhfz6fzun5e6tq4.jpg",title:"great stuff"}),Object(n.jsx)(p.a,{avatar:Object(n.jsx)(f.a,{alt:"bob",src:"https://tinyfac.es/data/avatars/26CFEFB3-21C8-49FC-8C19-8E6A62B6D2E0-500w.jpeg",className:"small"}),title:"Bob Masks",subheader:"Funny Seller \u2b50 4.2"})]})}),Object(n.jsx)(h.a,{children:Object(n.jsxs)(d.b,{to:"/item/600ab40a22fe2c973b33a5e3",children:[Object(n.jsx)(m.a,{className:"card-media",image:"https://res.cloudinary.com/dt1zahrqy/image/upload/v1611590031/df4236ca2499be75.jpg_xagd0d.jpg",title:"great stuff"}),Object(n.jsx)(p.a,{avatar:Object(n.jsx)(f.a,{src:"https://tinyfac.es/data/avatars/A7299C8E-CEFC-47D9-939A-3C8CA0EA4D13-200w.jpeg",className:"small"}),title:"Miryam lib",subheader:"Featurd Seller \ud83e\uddf5"})]})})]}),Object(n.jsxs)("section",{className:"top-sellers",children:[Object(n.jsxs)("section",{className:"sellers-list flex-column align-center justify-center",children:[Object(n.jsx)("h2",{children:"Our Top Sellers "}),Object(n.jsxs)("div",{className:"sellers-row flex  space-between justify-center",children:[Object(n.jsx)("img",{className:"top-seller",src:"https://res.cloudinary.com/dt1zahrqy/image/upload/v1610610533/hf/faces/10_vnikfz.jpg",alt:""}),Object(n.jsx)("img",{className:"top-seller",src:"https://res.cloudinary.com/dt1zahrqy/image/upload/v1610610533/hf/faces/8_tzi2ty.jpg",alt:""}),Object(n.jsx)("img",{className:"top-seller",src:"https://res.cloudinary.com/dt1zahrqy/image/upload/v1610610533/hf/faces/5_yvygo4.jpg",alt:""}),Object(n.jsx)("img",{className:"top-seller",src:"https://res.cloudinary.com/dt1zahrqy/image/upload/v1610610534/hf/faces/18_rwb9g1.jpg",alt:""}),Object(n.jsx)("img",{className:"top-seller",src:"https://res.cloudinary.com/dt1zahrqy/image/upload/v1610610533/hf/faces/16_trr5zq.jpg",alt:""}),Object(n.jsx)("img",{className:"top-seller",src:"https://res.cloudinary.com/dt1zahrqy/image/upload/v1610610533/hf/faces/9_gqkjqu.jpg",alt:""})]}),Object(n.jsxs)("div",{className:"sellers-row flex space-between justify-center",children:[Object(n.jsx)("img",{className:"top-seller",src:"https://res.cloudinary.com/dt1zahrqy/image/upload/v1610610534/hf/faces/19_ne4lby.jpg",alt:"hadar"}),Object(n.jsx)("img",{className:"top-seller",src:"https://res.cloudinary.com/dt1zahrqy/image/upload/v1610610533/hf/faces/7_gdn9xw.jpg",alt:""}),Object(n.jsx)("img",{className:"top-seller",src:"https://res.cloudinary.com/dt1zahrqy/image/upload/v1610610532/hf/faces/3_nz6vkf.jpg",alt:""}),Object(n.jsx)("img",{className:"top-seller",src:"https://res.cloudinary.com/dt1zahrqy/image/upload/v1610610532/hf/faces/4_o2r8cs.jpg",alt:""}),Object(n.jsx)("img",{className:"top-seller",src:"https://res.cloudinary.com/dt1zahrqy/image/upload/v1610610532/hf/faces/30_nvklsm.jpg",alt:""}),Object(n.jsx)("img",{className:"top-seller",src:"https://res.cloudinary.com/dt1zahrqy/image/upload/v1610610532/hf/faces/27_zdptgs.jpg",alt:""})]}),Object(n.jsx)(d.b,{className:"btn",to:"/sell",children:"Join our Marketplace"})]}),Object(n.jsxs)("section",{className:"seller-banner",children:[Object(n.jsx)("div",{className:"banner-text",children:"HappySocks changed my life!"}),Object(n.jsx)("div",{className:"banner-text2",children:"Bob Safam - Maatziv Garbaim"}),Object(n.jsx)("img",{src:"https://fiverr-res.cloudinary.com/q_auto,f_auto,w_1400,dpr_1.0/v1/attachments/generic_asset/asset/50218c41d277f7d85feeaf3efb4549bd-1599072608122/bg-signup-1400-x1.png",alt:""})]})]}),Object(n.jsxs)("div",{className:"hacker full",children:[" ",Object(n.jsx)("h2",{children:" \ud83d\udc69\u200d\ud83d\udcbb Hacker's Socks "})]}),Object(n.jsxs)("section",{className:"item-cards full flex",children:[Object(n.jsxs)(h.a,{children:[Object(n.jsx)(m.a,{className:"card-media",image:"https://ih1.redbubble.net/image.979819935.9882/ur,socks_size_comparison_medium,tall_portrait,750x1000-bg,f8f8f8.1.jpg",title:"great stuff"}),Object(n.jsx)(p.a,{avatar:Object(n.jsx)(f.a,{src:"https://tinyfac.es/data/avatars/03F55412-DE8A-4F83-AAA6-D67EE5CE48DA-500w.jpeg",className:"small"}),title:"Shira Sacks",subheader:"Best Seller \u2b50 4.2"})]}),Object(n.jsxs)(h.a,{children:[Object(n.jsx)(m.a,{className:"card-media",image:"https://ih1.redbubble.net/image.984109788.7935/ur,socks_flatlay_medium,square,600x600-bg,f8f8f8.1.jpg",title:"great stuff"}),Object(n.jsx)(p.a,{avatar:Object(n.jsx)(f.a,{src:"https://tinyfac.es/data/avatars/FBEBF655-4886-455A-A4A4-D62B77DD419B-200w.jpeg",className:"small"}),title:"Joe Trump",subheader:"Top Seller \u2b50\u2b50\u2b50"}),Object(n.jsx)(b.a,{disableSpacing:!0})]}),Object(n.jsxs)(h.a,{children:[Object(n.jsx)(m.a,{className:"card-media",image:"https://res.cloudinary.com/dt1zahrqy/image/upload/v1611428175/hf/items/ur_socks_size_comparison_medium_tall_portrait_750x1000-bg_f8f8f8.1_gkmznv.jpg",title:"great stuff"}),Object(n.jsx)(p.a,{avatar:Object(n.jsx)(f.a,{alt:"bob",src:"https://tinyfac.es/data/avatars/26CFEFB3-21C8-49FC-8C19-8E6A62B6D2E0-500w.jpeg",className:"small"}),title:"Bob Habanai",subheader:"Funny Seller \u2b50 4.2"})]}),Object(n.jsxs)(h.a,{children:[Object(n.jsx)(m.a,{className:"card-media",image:"https://ih1.redbubble.net/image.930826198.5204/ur,socks_flatlay_medium,square,1000x1000-bg,f8f8f8.1.jpg",title:"great stuff"}),Object(n.jsx)(p.a,{avatar:Object(n.jsx)(f.a,{src:"https://tinyfac.es/data/avatars/A7299C8E-CEFC-47D9-939A-3C8CA0EA4D13-200w.jpeg",className:"small"}),title:"Miryam Libovitch",subheader:"Featurd Seller \ud83e\uddf5"})]})]})]})})]})}}]),r}(s.Component),R={loadItems:A,loadSellers:B,setFilter:T},q=Object(L.b)((function(e){return{items:e.itemModule.items,sellers:e.sellerModule.sellers,filterBy:e.itemModule.filterBy}}),R)(P),z=r(19),V=r(118),H=function(e){Object(o.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={item:null,isLike:!1},e.onRemove=function(){var t=Object(v.a)(g.a.mark((function t(r,n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.stopPropagation(),e.props.removeItem(n);case 2:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.onLikes=function(){var t=e.state.item,r=e.state.isLike;r?t.likes--:t.likes++,e.setState({item:t,isLike:!r}),console.log("likes",e.state.item)},e}return Object(l.a)(r,[{key:"componentDidMount",value:function(){var e=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({item:this.props.item});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t,r=this,s=this.props.removeable,a=this.state,c=a.item,i=a.isLike;return c||(console.log(555),c=this.props),Object(n.jsx)("section",{className:"card-main",children:Object(n.jsxs)(h.a,{children:[Object(n.jsxs)(d.b,{to:"/item/".concat(c._id),children:[Object(n.jsx)(m.a,{className:"card-media",image:c.imgUrl}),c.seller&&Object(n.jsx)(p.a,{avatar:Object(n.jsx)(f.a,{src:c.seller.imgUrl,className:"small"}),title:c.title,subheader:c.seller.fullname})]}),Object(n.jsx)(V.a,{className:"card-text",children:Object(n.jsxs)("div",{className:"price-likes",children:[Object(n.jsxs)("span",{onClick:this.onLikes,className:"likes",children:[c.likes," ",i?"\u2764\ufe0f":"\ud83e\udd0d"]}),Object(n.jsxs)("span",{className:"price",children:["$",c.price]})]})}),s&&Object(n.jsx)("button",(e={className:"delete-button",onClick:function(e){return r.props.onEdit(e,c._id)}},Object(z.a)(e,"className","delete-btn"),Object(z.a)(e,"children","Edit"),e)),s&&Object(n.jsx)("button",(t={className:"delete-button",onClick:function(e){return r.onRemove(e,c._id)}},Object(z.a)(t,"className","delete-btn"),Object(z.a)(t,"children","Delete"),t))]})})}}]),r}(s.Component),G={removeItem:D},J=Object(L.b)((function(e){return{items:e.itemModule.items}}),G)(H),W=r(4),$={uploadImg:function(e){return K.apply(this,arguments)}};function K(){return(K=Object(v.a)(g.a.mark((function e(t){var r,n,s,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"dt1zahrqy",r="https://api.cloudinary.com/v1_1/".concat("dt1zahrqy","/image/upload"),(n=new FormData).append("file",t),n.append("upload_preset","cigtpl24"),e.prev=5,e.next=8,fetch(r,{method:"POST",body:n});case 8:return s=e.sent,e.next=11,s.json();case 11:return a=e.sent,e.abrupt("return",a);case 15:e.prev=15,e.t0=e.catch(5),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[5,15]])})))).apply(this,arguments)}var Y=function(e){Object(o.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={isUploading:!1},e.onUploadImg=function(){var t=Object(v.a)(g.a.mark((function t(r){var n,s;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({isUploading:!0}),t.next=3,$.uploadImg(r.target.files[0]);case 3:n=t.sent,s=n.secure_url,e.setState({isUploading:!1},(function(){return e.props.onFinishUpload(s)}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(l.a)(r,[{key:"render",value:function(){var e=this.state.isUploading;return Object(n.jsxs)("button",{className:"uploader",children:[Object(n.jsx)("label",{htmlFor:"imageUploader",children:e?"Uploading....":"Upload Image"}),Object(n.jsx)("input",{onChange:this.onUploadImg,hidden:!0,type:"file",accept:"image/*",id:"imageUploader"})]})}}]),r}(s.Component),X=r(53),Q=r.n(X),Z=function(e){Object(o.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={pickeColor:"all"},e.handlePickeColor=function(t){e.setState({pickeColor:t})},e}return Object(l.a)(r,[{key:"render",value:function(){var e=this,t=this.state.pickeColor;return Object(n.jsxs)("div",{className:"color-container",children:[Object(n.jsx)("section",{title:"Red",onClick:function(){e.props.handleChangeColor("red"),e.handlePickeColor("red")},className:"red"===t?"red-fill outline":"red-fill"}),Object(n.jsx)("section",{title:"Gray",onClick:function(){e.props.handleChangeColor("gray"),e.handlePickeColor("gray")},className:"gray"===t?"gray-fill outline":"gray-fill"}),Object(n.jsx)("section",{title:"Blue",onClick:function(){e.props.handleChangeColor("blue"),e.handlePickeColor("blue")},className:"blue"===t?"blue-fill outline":"blue-fill"}),Object(n.jsx)("section",{title:"Pink",onClick:function(){e.props.handleChangeColor("pink"),e.handlePickeColor("pink")},className:"pink"===t?"pink-fill outline":"pink-fill"}),Object(n.jsx)("section",{title:"Yellow",onClick:function(){e.handlePickeColor("yellow"),e.props.handleChangeColor("yellow")},className:"yellow"===t?"yellow-fill outline":"yellow-fill"}),Object(n.jsx)("section",{title:"White",onClick:function(){e.props.handleChangeColor("white"),e.handlePickeColor("white")},className:"white"===t?"white-fill outline":"white-fill"}),Object(n.jsx)("section",{title:"Black",onClick:function(){e.handlePickeColor("black"),e.props.handleChangeColor("black")},className:"black"===t?"black-fill outline":"black-fill"}),Object(n.jsx)("section",{title:"Green",onClick:function(){e.handlePickeColor("green"),e.props.handleChangeColor("green")},className:"green"===t?"green-fill outline":"green-fill"}),Object(n.jsx)("section",{title:"Purple",onClick:function(){e.handlePickeColor("purple"),e.props.handleChangeColor("purple")},className:"purple"===t?"purple-fill outline":"purple-fill"}),Object(n.jsx)("section",{title:"Brown",onClick:function(){e.handlePickeColor("brown"),e.props.handleChangeColor("brown")},className:"brown"===t?"brown-fill outline":"brown-fill"}),Object(n.jsx)("section",{title:"colorful",onClick:function(){e.handlePickeColor("colorful"),e.props.handleChangeColor("colorful")},className:"colorful"===t?"colorful-fill outline":"colorful-fill"}),Object(n.jsx)("section",{title:"Clear",onClick:function(){e.handlePickeColor("all"),e.props.handleChangeColor("clear")},className:"all",children:Object(n.jsx)(Q.a,{})})]})}}]),r}(s.Component),ee=function(e){Object(o.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={currItem:null},e.onSaveItem=function(){var t=Object(v.a)(g.a.mark((function t(r){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),(n=e.state.currItem).seller._id=e.props.user._id,n.seller.fullname=e.props.user.fullname,n.seller.imgUrl=e.props.user.imgUrl,t.next=7,e.props.saveItem(n);case 7:e.props.loadUserItems();case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleInput=function(t){var r=t.target,n=r.name,s=r.value,a=r.type;console.log("type",a),"number"===a&&(s=+s),e.setState((function(e){return{currItem:Object(W.a)(Object(W.a)({},e.currItem),{},Object(z.a)({},n,s))}}))},e.handleTagsInput=function(t){var r=t.target,n=r.name,s=r.value;console.log(s.split(",")),e.setState((function(e){return{currItem:Object(W.a)(Object(W.a)({},e.currItem),{},Object(z.a)({},n,s))}}))},e.onUploadItemImage=function(t){e.setState((function(e){return{currItem:Object(W.a)(Object(W.a)({},e.currItem),{},{imgUrl:t})}})),console.log("img url",t)},e.handleChangeColor=function(t){console.log(t),e.setState((function(e){return{currItem:Object(W.a)(Object(W.a)({},e.currItem),{},{color:t})}}),(function(){}))},e}return Object(l.a)(r,[{key:"componentDidMount",value:function(){this.setState({currItem:{title:"",price:"",color:"",seller:{_id:"E4G3Ck",fullname:"Amelia Larson",imgUrl:"https://res.cloudinary.com/dt1zahrqy/image/upload/v1610610532/hf/faces/3_nz6vkf.jpg"},description:"",imgUrl:"https://ih1.redbubble.net/image.951124242.1192/ur,socks_flatlay_medium,square,600x600-bg,f8f8f8.1.jpg",tags:[""],likes:"",details:""}})}},{key:"componentDidUpdate",value:function(){var e=Object(v.a)(g.a.mark((function e(t){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.currItem!==this.props.currItem&&(r=this.props.currItem,this.setState({currItem:r}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.currItem;return t?Object(n.jsx)("section",{className:"edit-box",children:Object(n.jsxs)("form",{onSubmit:function(t){e.onSaveItem(t)},children:[Object(n.jsx)("input",{autoFocus:!0,type:"text",value:t.title,onChange:this.handleInput,name:"title",placeholder:"title",autoComplete:"off"}),Object(n.jsx)("input",{autoFocus:!0,type:"text",value:t.tags,onChange:this.handleTagsInput,name:"tags",placeholder:"Animal,Art",autoComplete:"off"}),Object(n.jsx)("input",{autoFocus:!0,type:"text",value:t.likes,onChange:this.handleInput,name:"likes",placeholder:"Likes",autoComplete:"off"}),Object(n.jsx)("input",{autoFocus:!0,type:"text",value:t.details,onChange:this.handleInput,name:"details",placeholder:"Details",autoComplete:"off"}),Object(n.jsx)("textarea",{rows:"5",autoFocus:!0,type:"text",value:t.description,onChange:this.handleInput,name:"description",placeholder:"Add Description",autoComplete:"off"}),Object(n.jsxs)("label",{children:["Price: ",Object(n.jsx)("input",{type:"number",min:"0",name:"price",value:t.price,onChange:this.handleInput})]}),Object(n.jsx)(Z,{handleChangeColor:this.handleChangeColor}),Object(n.jsx)(Y,{onFinishUpload:this.onUploadItemImage}),Object(n.jsx)("button",{children:"Save"})]})}):Object(n.jsx)("h1",{children:"Loading....."})}}]),r}(s.Component),te={saveItem:M},re=Object(L.b)((function(e){return{items:e.itemModule.items}}),te)(ee),ne=r(119),se=function(e){Object(o.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={itemsToShow:null,currItem:null},e.onEdit=function(){var t=Object(v.a)(g.a.mark((function t(r,n){var s;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.stopPropagation(),s=e.props.items.find((function(e){return e._id===n})),t.next=4,e.setState({currItem:s});case 4:console.log(s),console.log(e.state);case 6:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.loadUserItems=Object(v.a)(g.a.mark((function t(){var r,n,s,a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.props,n=r.items,s=r.loggedInUser,0!==n.length){t.next=5;break}return t.next=4,e.props.loadItems();case 4:e.loadUserItems();case 5:a=n.filter((function(e){var t=e.seller;return t&&t._id===s._id})),e.setState({itemsToShow:a});case 7:case"end":return t.stop()}}),t)}))),e}return Object(l.a)(r,[{key:"componentDidMount",value:function(){var e=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.loadItems();case 2:return e.next=4,this.loadUserItems();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(v.a)(g.a.mark((function e(t){var r,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.itemsToShow===this.state.itemsToShow){e.next=7;break}return r=this.state.itemsToShow,e.t0=console,e.next=5,r;case 5:e.t1=e.sent,e.t0.log.call(e.t0,e.t1);case 7:if(t.currItem===this.state.currItem){e.next=14;break}return n=this.state.currItem,e.t2=console,e.next=12,n;case 12:e.t3=e.sent,e.t2.log.call(e.t2,e.t3);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.loggedInUser,r=this.state.itemsToShow;return t&&r?0===r.length?Object(n.jsx)("h1",{children:"There is no items for you .. add some :)"}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("h2",{className:"hello-seller",children:["\ud83d\udc4bHelllo ",t.fullname]}),Object(n.jsxs)("div",{className:"back-office-seller",children:[Object(n.jsx)(re,{className:"add-Item-back",currItem:this.state.currItem,user:this.props.loggedInUser,loadUserItems:this.loadUserItems}),Object(n.jsx)("div",{className:"item-container",children:r&&r.map((function(t){return Object(n.jsx)("div",{className:"item",children:Object(n.jsx)(J,{item:t,onEdit:e.onEdit,removeable:!0})},t._id)}))})]})]}):Object(n.jsx)("div",{className:"center",children:Object(n.jsx)(ne.a,{})})}}]),r}(s.Component),ae={loadItems:A},ce=Object(L.b)((function(e){return{loggedInUser:e.userModule.loggedInUser,items:e.itemModule.items}}),ae)(se),ie=function(e){Object(o.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={filterBy:{title:"",type:"all",color:"clear",tags:[],userId:"clear",tagId:"clear"}},e.handleChange=function(t){var r=t.target,n=r.name,s="number"===r.type?+r.value:r.value;e.setState((function(e){return{filterBy:Object(W.a)(Object(W.a)({},e.filterBy),{},Object(z.a)({},n,s))}}),(function(){e.props.onSetFilter(e.state.filterBy)}))},e.handleChangeTags=function(t){e.setState((function(e){return{filterBy:Object(W.a)(Object(W.a)({},e.filterBy),{},{tagId:t})}}),(function(){e.props.onSetFilter(e.state.filterBy)}))},e.handleChangeColor=function(t){e.setState((function(e){return{filterBy:Object(W.a)(Object(W.a)({},e.filterBy),{},{color:t})}}),(function(){e.props.onSetFilter(e.state.filterBy)}))},e.handleChangeUser=function(t){var r=t.target;console.log(r),console.log(r.alt),e.setState((function(e){return{filterBy:Object(W.a)(Object(W.a)({},e.filterBy),{},{userId:r.alt})}}),(function(){e.props.onSetFilter(e.state.filterBy)}))},e}return Object(l.a)(r,[{key:"componentDidUpdate",value:function(e){e!==this.state&&console.log(this.state.tagId)}},{key:"render",value:function(){var e=this,t=this.state.filterBy,r=this.props.sellers;return Object(n.jsxs)("section",{className:"item-filter",children:[Object(n.jsx)("h6",{className:"h6-filter-title",children:"Find socks"}),Object(n.jsxs)("div",{className:"filter-input-container",children:[Object(n.jsx)("input",{type:"text",name:"title",value:t.title,onChange:this.handleChange,placeholder:"Search e.g 'React socks'",autoComplete:"off"}),Object(n.jsx)("h6",{children:"Color:"}),Object(n.jsx)(Z,{handleChangeColor:this.handleChangeColor}),Object(n.jsx)("h6",{children:"Price:"}),Object(n.jsx)("input",{className:"filter-price",type:"number",name:"lowPrice",onChange:this.handleChange,placeholder:"Min price"}),Object(n.jsx)("span",{children:" - "}),Object(n.jsx)("input",{className:"filter-price",type:"number",name:"highPrice",onChange:this.handleChange,placeholder:"Max price"}),Object(n.jsx)("h6",{children:"Tags:"}),Object(n.jsxs)("section",{className:"filter-tags flex",children:[Object(n.jsx)(d.b,{onClick:this.handleChangeTags,id:"featured",to:"/shop?tag=featured",children:"Featured"}),Object(n.jsx)(d.b,{onClick:this.handleChangeTags,id:"developers",to:"/shop?tag=developers",children:"Developers"}),Object(n.jsx)(d.b,{onClick:this.handleChangeTags,id:"art",to:"/shop?tag=art",children:"Art"}),Object(n.jsx)(d.b,{onClick:this.handleChangeTags,id:"trending",to:"/shop?tag=trending",children:"Trending"}),Object(n.jsx)(d.b,{onClick:this.handleChangeTags,id:"onsale",to:"/shop?tag=onsale",children:"OnSale"}),Object(n.jsx)(d.b,{onClick:this.handleChangeTags,id:"display",to:"/shop?tag=display",children:"Hot"})]}),Object(n.jsx)("h6",{className:"h6-filter-seller",children:"Top sellers"}),r&&Object(n.jsxs)("section",{children:[console.log(r),r.map((function(t){return console.log(t.name),Object(n.jsx)("img",{value:t.user.fullname,src:t.user.imgUrl,alt:t.user._id,className:"img-user-filter",onClick:e.handleChangeUser},t.user._id)}))]})]})]})}}]),r}(s.Component);function le(e){var t=e.items;return Object(n.jsx)("article",{className:"item-list",children:t.map((function(e){return Object(n.jsx)(J,{item:e},e._id)}))})}var oe=function(e){Object(o.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={sellers:null},e.loadSeller=Object(v.a)(g.a.mark((function t(){var r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.sellers;case 2:r=t.sent,console.log(r),e.setState({sellers:r});case 5:case"end":return t.stop()}}),t)}))),e.onSetFilter=function(t){e.props.setFilter(t),e.props.loadItems(t)},e}return Object(l.a)(r,[{key:"componentDidMount",value:function(){var e=Object(v.a)(g.a.mark((function e(){var t,r,n,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.location.search,r=new URLSearchParams(t),n=r.get("tag"),console.log("tag",n),n?(s={tags:[n]},this.props.loadItems(s)):this.props.loadItems(),e.next=7,this.props.loadSellers();case 7:this.loadSeller();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.items,t=this.state.sellers;return console.log(t),e&&t?Object(n.jsxs)("section",{className:"shop-container",children:[t&&Object(n.jsx)(ie,{sellers:t,onSetFilter:this.onSetFilter,loadItems:this.props.loadItems,location:this.props.location}),Object(n.jsx)(le,{items:e})]}):Object(n.jsx)("div",{className:"center",children:Object(n.jsx)(ne.a,{})})}}]),r}(s.Component),ue={loadItems:A,setFilter:T,saveItem:M,loadSellers:B},de=Object(L.b)((function(e){return{items:e.itemModule.items,filterBy:e.itemModule.filterBy,sellers:e.sellerModule.sellers}}),ue)(oe);var je=function(e){Object(o.a)(r,e);var t=Object(u.a)(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){var e=this.props.review;return Object(n.jsxs)("section",{className:"review",children:[e.item&&Object(n.jsxs)("div",{className:"by-info",children:[Object(n.jsx)("img",{src:e.by.imgUrl}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("h5",{children:[e.by.fullname,"              \u2b50",Object(n.jsx)("span",{children:e.rate})]}),Object(n.jsxs)("h6",{children:["Purchased Socks - ",e.item.title]})]})]}),Object(n.jsx)("div",{className:"review-text",children:e.txt})]})}}]),r}(s.Component),he=r(56),pe=r.n(he),me=r(54),be=r.n(me),fe=r(57),Oe=r.n(fe),ge=r(55),ve=r.n(ge),xe=function(e){Object(o.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={currItem:{title:"",imgUrl:"",price:0,_id:""},seller:null,sellers:{},amount:1,modalVisibility:"hidden",rate:{stars:"",avg:0}},e.loadItem=function(){var t=e.props.match.params.itemId,r=e.props.items.find((function(e){return t===e._id}));e.setState({currItem:r},(function(){}))},e.loadSeller=Object(v.a)(g.a.mark((function t(){var r,n,s;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.state.currItem.seller._id,t.next=3,e.props.sellers;case 3:n=t.sent,s=n.find((function(e){return e._id===r})),e.setState({seller:s,sellers:n},(function(){e.rateCalculator(s.reviews)}));case 6:case"end":return t.stop()}}),t)}))),e.rateCalculator=function(t){for(var r=t.reduce((function(e,t){return e+t.rate}),0)/t.length,n="",s=0;s<Math.floor(r);s++)n+="\u2b50";var a={stars:n,avg:r.toFixed(2)};e.setState({rate:a})},e.onSaveItem=function(t,r){t.preventDefault(),e.props.saveItem(r),e.setState({currItem:r}),e.props.history.push("/shop")},e.onChangeAmount=function(t,r){t.preventDefault();var n=e.state.amount;(n+=r)<0&&(n=0),e.setState({amount:n})},e.openModal=function(){var t=e.state.modalVisibility;t="hidden"===t?"visible":"hidden",e.setState({modalVisibility:t})},e.onOrder=function(){var t={amount:e.state.amount,title:e.state.currItem.title,tag:e.state.currItem.tags?e.state.currItem.tags[0]:""};e.props.setOrder(t)},e}return Object(l.a)(r,[{key:"componentDidMount",value:function(){var e=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.loadItems();case 2:return this.loadItem(),e.next=5,this.props.loadSellers();case 5:this.loadSeller();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,r=t.currItem,s=t.seller,a=t.amount,c=t.rate;return r.imgUrl?Object(n.jsxs)("section",{className:"item-details main-container ",children:[Object(n.jsx)("section",{className:"image-container",children:Object(n.jsx)("img",{className:"item-image",src:r.imgUrl,alt:"img"})}),Object(n.jsxs)("div",{className:"item-info",children:[Object(n.jsx)("div",{className:"header",children:Object(n.jsx)("h1",{children:r.title})}),s&&Object(n.jsxs)("div",{className:"seller-preview",children:[Object(n.jsx)("img",{src:s.user.imgUrl,alt:"img"}),Object(n.jsxs)("span",{children:[" ",s.name]}),Object(n.jsx)("span",{className:"best-seller",children:" best seller "}),Object(n.jsx)("span",{children:c.stars})]}),Object(n.jsxs)("div",{className:"price",children:["$",r.price,".00"]}),Object(n.jsx)("h6",{children:"How Many Pairs would You Like?"}),Object(n.jsxs)("div",{className:"amount",children:[Object(n.jsx)("div",{onClick:function(t){return e.onChangeAmount(t,-1)},className:"change-amount",children:"-"}),Object(n.jsx)("div",{children:a}),Object(n.jsx)("div",{onClick:function(t){return e.onChangeAmount(t,1)},className:"change-amount",children:"+"})]}),Object(n.jsx)("div",{onClick:this.openModal,className:"buy",children:"Buy Me "}),Object(n.jsx)("div",{className:"description",children:Object(n.jsx)("p",{children:"Description: Being a synesthete, a condition in which the senses are directly linked, Kandinsky relied heavily on every inner perception to complete his paintings."})}),"          ",Object(n.jsx)("div",{className:"tag-title",children:"Related Tags:"}),Object(n.jsx)("div",{className:"tags-container",children:r.tags.map((function(t){return Object(n.jsx)("div",{className:"tag",children:Object(n.jsx)(d.b,{onClick:e.onOrder,to:"/shop?tag=".concat(t),children:t})})}))})]}),Object(n.jsx)("section",{className:"border-seprator"}),Object(n.jsxs)("div",{className:"reviews",children:[Object(n.jsx)("h3",{children:"Reviews:"}),s&&s.reviews.map((function(e){return Object(n.jsx)(je,{review:e},e.id)}))]}),Object(n.jsxs)("div",{className:"seller-details",children:[Object(n.jsx)("h3",{children:"About The Seller"}),s&&Object(n.jsxs)("div",{className:"info",children:[Object(n.jsx)("img",{src:s.user.imgUrl,alt:"img"}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("h4",{children:[" ",s.user.fullname]}),Object(n.jsx)("h5",{children:s.address}),Object(n.jsxs)("div",{children:[" ",c.stars," ",c.avg," (",s.reviews.length,"  ",1===s.reviews.length?"review":"reviews",")"]})]})]}),Object(n.jsx)("div",{className:"content-me",children:"Contact Me"})]}),Object(n.jsx)("section",{onClick:this.openModal,style:{visibility:this.state.modalVisibility},className:"modal-background"}),Object(n.jsxs)("div",{style:{visibility:this.state.modalVisibility},className:"order-info-modal",children:[Object(n.jsxs)("h3",{children:[Object(n.jsx)(be.a,{})," Cart Details"]}),Object(n.jsx)("div",{onClick:this.openModal,className:"close",children:Object(n.jsx)(ve.a,{})}),Object(n.jsxs)("table",{children:[Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Card Details"}),Object(n.jsx)("th",{children:"Price"}),Object(n.jsx)("th",{children:"Amount"}),Object(n.jsx)("th",{children:"Item"}),Object(n.jsx)("th",{}),Object(n.jsx)("th",{children:"Total Price"})]}),Object(n.jsxs)("tr",{children:[Object(n.jsxs)("td",{children:[Object(n.jsx)(pe.a,{}),Object(n.jsx)(Oe.a,{})]}),Object(n.jsxs)("td",{children:["$",r.price]}),Object(n.jsx)("td",{children:a}),Object(n.jsx)("td",{children:r.title}),Object(n.jsx)("td",{children:"\xa0"}),Object(n.jsxs)("td",{children:["$",r.price*a]})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:"\xa0"}),Object(n.jsx)("td",{children:"\xa0"}),Object(n.jsx)("td",{children:"\xa0"}),Object(n.jsx)("td",{}),Object(n.jsx)("td",{children:Object(n.jsx)("span",{className:"table-bold",children:"Shipping"})}),Object(n.jsx)("td",{children:"$12"})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:"\xa0"}),Object(n.jsx)("td",{children:"\xa0"}),Object(n.jsx)("td",{children:"\xa0"}),Object(n.jsx)("td",{}),Object(n.jsx)("td",{children:Object(n.jsx)("span",{className:"table-bold",children:"VAT"})}),Object(n.jsx)("td",{children:"$0"})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:"\xa0"}),Object(n.jsx)("td",{children:"\xa0"}),Object(n.jsx)("td",{children:"\xa0"}),Object(n.jsx)("td",{children:"\xa0"}),Object(n.jsx)("td",{children:"\xa0"}),Object(n.jsxs)("td",{className:"final-price",children:["$",r.price*a+12]})]})]}),Object(n.jsxs)("div",{className:"checkout",children:[Object(n.jsx)(d.b,{onClick:this.onOrder,to:"/thank",children:"CHECKOUT"}),Object(n.jsx)("span",{children:"WE ACCEPT:"}),Object(n.jsx)("img",{src:"https://res.cloudinary.com/dt1zahrqy/image/upload/v1611652063/hf/items/checkout_lt7hx6.jpg",alt:""})]})]})]}):Object(n.jsx)("div",{className:"center",children:Object(n.jsx)(ne.a,{})})}}]),r}(s.Component),ye={loadItems:A,removeItem:D,saveItem:M,loadSellers:B,setOrder:function(e){return function(t){t({type:"SET_OEDER",order:e})}}},ke=Object(L.b)((function(e){return{items:e.itemModule.items,sellers:e.sellerModule.sellers}}),ye)(xe),Ce=r(58),we=r.n(Ce),Se=function(e){Object(o.a)(r,e);var t=Object(u.a)(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){var e=this.props.loggedInUser;return Object(n.jsx)("header",{className:"header-container",children:Object(n.jsxs)("nav",{children:[Object(n.jsx)("div",{className:"leftnav",children:Object(n.jsx)("div",{className:"logo",children:Object(n.jsx)(d.c,{exact:!0,to:"/",children:"HappySocks"})})}),Object(n.jsxs)("div",{className:"rightnav",children:[Object(n.jsx)(d.c,{className:"header-find",to:"/shop",children:"Explore"}),!e&&Object(n.jsxs)(d.c,{to:"/login",children:[Object(n.jsx)(we.a,{}),"Login"]}),e&&Object(n.jsx)("span",{className:"loggedin-user",children:Object(n.jsx)(d.b,{to:"seller/".concat(e._id),children:Object(n.jsx)("img",{className:"item-img",src:e.imgUrl})})})]})]})})}}]),r}(s.Component),Ne=Object(L.b)((function(e){return{loggedInUser:e.userModule.loggedInUser}}),{})(Se),Ie=function(e){Object(o.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={modalVisibility:"hidden"},e.openModal=function(){var t=e.state.modalVisibility;t="hidden"===t?"visible":"hidden",e.setState({modalVisibility:t})},e}return Object(l.a)(r,[{key:"render",value:function(){return Object(n.jsxs)("footer",{children:[Object(n.jsx)("h3",{onClick:this.ompenModal,children:" \ud83d\udce6 Global shipping "}),Object(n.jsx)("h6",{children:"\xa9 HappySocks 2021"}),Object(n.jsx)("section",{onClick:this.openModal,style:{visibility:this.state.modalVisibility},className:"modal-background"}),Object(n.jsxs)("div",{style:{visibility:this.state.modalVisibility},className:"countries-modal",children:[Object(n.jsx)("div",{onClick:this.openModal,className:"close",children:"X"}),Object(n.jsx)("h3",{children:"Change Shipping Country"}),Object(n.jsxs)("div",{className:"grid-countries",children:[Object(n.jsx)("div",{children:"Australia"}),Object(n.jsx)("div",{children:"\xd6sterreich"}),Object(n.jsx)("div",{children:"Belgi\xeb"}),Object(n.jsx)("div",{children:"\u010cesk\xe1 republika  "}),Object(n.jsx)("div",{children:"Danmark  "}),Object(n.jsx)("div",{children:"     Deutschland  "}),Object(n.jsx)("div",{children:"     Espa\xf1a  "}),Object(n.jsx)("div",{children:"    France  "}),Object(n.jsx)("div",{children:"    Hong Kong   "}),Object(n.jsx)("div",{children:"    Italia  "}),Object(n.jsx)("div",{children:"    \u65e5\u672c  "}),Object(n.jsx)("div",{children:"    Nederland  "}),Object(n.jsx)("div",{children:"    Norge  "}),Object(n.jsx)("div",{children:"    Schweiz  "}),Object(n.jsx)("div",{children:"    South Korea  "}),Object(n.jsx)("div",{children:"   Suomi  "}),Object(n.jsx)("div",{children:"   Sverige  "}),Object(n.jsx)("div",{children:"   UK  "})]})]})]})}}]),r}(s.Component),_e={login:function(e){return Me.apply(this,arguments)},logout:function(){return Te.apply(this,arguments)},signup:function(e){return De.apply(this,arguments)},getUsers:function(){return C("user")},getById:function(e){return C("user/".concat(e))},remove:function(e){return N("user/".concat(e))},update:Ee,getLoggedinUser:Be,increaseScore:function(){return Ae.apply(this,arguments)}};function Ee(e){return Ue.apply(this,arguments)}function Ue(){return(Ue=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("user/".concat(t._id),t);case 2:t=e.sent,Be()._id===t._id&&Fe(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ae(){return(Ae=Object(v.a)(g.a.mark((function e(){var t,r,n=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:10,(r=Be()).score=r.score+t||t,e.next=5,Ee(r);case 5:return e.abrupt("return",r.score);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Me(){return(Me=Object(v.a)(g.a.mark((function e(t){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w("auth/login",t);case 2:if(!(r=e.sent)){e.next=5;break}return e.abrupt("return",Fe(r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function De(){return(De=Object(v.a)(g.a.mark((function e(t){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w("auth/signup",t);case 2:return r=e.sent,e.abrupt("return",Fe(r));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Te(){return(Te=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sessionStorage.clear(),e.next=3,w("auth/logout");case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fe(e){return sessionStorage.setItem("loggedinUser",JSON.stringify(e)),e}function Be(){return JSON.parse(sessionStorage.getItem("loggedinUser"))}window.userService=_e;var Le=function(e){Object(o.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={msg:"",loginCred:{username:"",password:""},signupCred:{username:"",password:"",fullname:""}},e.loginHandleChange=function(t){var r=t.target,n=r.name,s=r.value;e.setState((function(e){return{loginCred:Object(W.a)(Object(W.a)({},e.loginCred),{},Object(z.a)({},n,s))}}))},e.signupHandleChange=function(t){var r=t.target,n=r.name,s=r.value;e.setState((function(e){return{signupCred:Object(W.a)(Object(W.a)({},e.signupCred),{},Object(z.a)({},n,s))}}))},e.doLogin=function(){var t=Object(v.a)(g.a.mark((function t(r){var n,s,a,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),n=e.state.loginCred,s=n.username,a=n.password,s){t.next=4;break}return t.abrupt("return",e.setState({msg:"Please enter user/password"}));case 4:c={username:s,password:a};try{e.props.login(c),e.setState({loginCred:{username:"",password:""}})}catch(i){e.setState({msg:"Login failed, try again."})}case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.doSignup=function(){var t=Object(v.a)(g.a.mark((function t(r){var n,s,a,c,i;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),n=e.state.signupCred,s=n.username,a=n.password,c=n.fullname,s&&a&&c){t.next=4;break}return t.abrupt("return",e.setState({msg:"All inputs are required"}));case 4:i={username:s,password:a,fullname:c},e.props.signup(i),e.setState({signupCred:{username:"",password:"",fullname:""}});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.removeUser=function(t){e.props.removeUser(t)},e}return Object(l.a)(r,[{key:"componentDidMount",value:function(){this.props.loadUsers()}},{key:"render",value:function(){var e=this,t=Object(n.jsxs)("form",{className:"frm",onSubmit:this.doSignup,children:[Object(n.jsx)("h2",{children:"Signup"}),Object(n.jsx)("input",{type:"text",name:"fullname",value:this.state.signupCred.fullname,onChange:this.signupHandleChange,placeholder:"Full name",autoComplete:"fullname"}),Object(n.jsx)("input",{name:"password",type:"password",value:this.state.signupCred.password,onChange:this.signupHandleChange,placeholder:"Password",autoComplete:"current-password"}),Object(n.jsx)("input",{type:"text",name:"username",value:this.state.signupCred.username,onChange:this.signupHandleChange,placeholder:"Username",autoComplete:"username"}),Object(n.jsx)("br",{}),Object(n.jsx)("button",{children:"Signup"})]}),r=Object(n.jsxs)("form",{className:"frm",onSubmit:this.doLogin,children:[Object(n.jsx)("h2",{children:"Login"}),Object(n.jsxs)("select",{name:"username",value:this.state.loginCred.username,onChange:this.loginHandleChange,children:[Object(n.jsx)("option",{value:"",children:"Select User"}),this.props.users&&this.props.users.map((function(e){return Object(n.jsx)("option",{value:e.username,children:e.fullname},e._id)}))]}),Object(n.jsx)("button",{children:"Login"})]}),s=this.props.loggedInUser;return Object(n.jsxs)("div",{className:"login",children:[Object(n.jsx)("h1",{children:"Login / Signup"}),Object(n.jsx)("p",{children:this.state.msg}),s&&Object(n.jsx)("div",{children:Object(n.jsxs)("h3",{children:["Welcome ",s.fullname,Object(n.jsx)("button",{onClick:this.props.logout,children:"Logout"})]})}),!s&&r,!s&&t,Object(n.jsx)("hr",{}),Object(n.jsx)("section",{className:"admin",children:Object(n.jsxs)("details",{children:[Object(n.jsx)("summary",{children:"Admin"}),Object(n.jsx)("button",{onClick:this.props.loadUsers,children:"Refresh Users"}),this.props.isLoading&&"Loading...",this.props.users&&Object(n.jsx)("ul",{children:this.props.users.map((function(t){return Object(n.jsxs)("li",{children:[Object(n.jsx)("pre",{children:JSON.stringify(t,null,2)}),Object(n.jsxs)("button",{onClick:function(){e.removeUser(t._id)},children:["Remove ",t.username]})]},t._id)}))})]})})]})}}]),r}(s.Component),Pe={login:function(e){return function(){var t=Object(v.a)(g.a.mark((function t(r){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e.login(e);case 3:n=t.sent,r({type:"SET_USER",user:n}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("UserActions: err in login",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},logout:function(){return function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_e.logout();case 3:t({type:"SET_USER",user:null}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("UserActions: err in logout",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},signup:function(e){return function(){var t=Object(v.a)(g.a.mark((function t(r){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e.signup(e);case 3:n=t.sent,r({type:"SET_USER",user:n}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("UserActions: err in signup",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},removeUser:function(e){return function(){var t=Object(v.a)(g.a.mark((function t(r){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e.remove(e);case 3:r({type:"REMOVE_USER",userId:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log("UserActions: err in removeUser",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},loadUsers:function(){return function(){var e=Object(v.a)(g.a.mark((function e(t){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"LOADING_START"}),e.next=4,_e.getUsers();case 4:r=e.sent,t({type:"SET_USERS",users:r}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("UserActions: err in loadUsers",e.t0);case 11:return e.prev=11,t({type:"LOADING_DONE"}),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(t){return e.apply(this,arguments)}}()}},Re=Object(L.b)((function(e){return{users:e.userModule.users,loggedInUser:e.userModule.loggedInUser,isLoading:e.systemModule.isLoading}}),Pe)(Le),qe=function(e){Object(o.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={user:null},e}return Object(l.a)(r,[{key:"componentDidMount",value:function(){var e=Object(v.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e.getById(this.props.match.params.id);case 2:t=e.sent,this.setState({user:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(n.jsxs)("section",{className:"user-details",children:[Object(n.jsx)("h1",{children:"User Details"}),this.state.user&&Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{children:this.state.user.fullname}),Object(n.jsx)("pre",{children:JSON.stringify(this.state.user,null,2)})]})]})}}]),r}(s.Component),ze=function(e){Object(o.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={items:[],order:{amount:2,title:"Busy Making a Fucking Difference Socks",tag:""}},e}return Object(l.a)(r,[{key:"componentDidMount",value:function(){var e=this.props.order;this.setState({order:e});var t=this.props.items.filter((function(t,r){return t.tags.some((function(t){return t===e.tag}))}));t=t.slice(0,4),console.log(404,t),this.setState({items:t})}},{key:"render",value:function(){var e=this.state,t=e.order,r=e.items;return r.length?Object(n.jsxs)("section",{className:"thank-you",children:[Object(n.jsxs)("div",{className:"thank-msg",children:[Object(n.jsxs)("div",{className:"order-msg",children:["Your ",1!==t.amount&&t.amount," ",1===t.amount?"pair":"pairs",' of "',t.title,'" Socks Is On The Way']}),Object(n.jsx)(d.b,{className:"continue-shopping",to:"/shop",children:"Find another one..."})]}),Object(n.jsx)("img",{src:"https://res.cloudinary.com/dt1zahrqy/image/upload/v1611587744/Funny-Royal-Socks-Gift-Collection-Kate_480x-removebg-preview_a2fseb.png",alt:"img"}),Object(n.jsxs)("div",{className:"item-thank",children:[Object(n.jsx)("h3",{className:"item-thank-header",children:"More socks for you"}),Object(n.jsx)("div",{className:"item-thank-conainer",children:r.map((function(e){return Object(n.jsx)(J,{item:e},e._id)}))})]})]}):Object(n.jsx)("div",{className:"center",children:Object(n.jsx)(ne.a,{})})}}]),r}(s.Component),Ve={getOrder:function(e){return function(e){}}},He=Object(L.b)((function(e){return{items:e.itemModule.items,order:e.orderModule.order}}),Ve)(ze),Ge=function(e){Object(o.a)(r,e);var t=Object(u.a)(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"app",children:Object(n.jsxs)(d.a,{children:[Object(n.jsxs)("main",{children:[Object(n.jsx)(Ne,{}),Object(n.jsxs)(j.c,{children:[Object(n.jsx)(j.a,{path:"/user/:id",component:qe}),Object(n.jsx)(j.a,{path:"/login",component:Re}),Object(n.jsx)(j.a,{path:"/thank",component:He}),Object(n.jsx)(j.a,{path:"/seller/:userId",component:ce}),Object(n.jsx)(j.a,{path:"/item/:itemId",component:ke}),Object(n.jsx)(j.a,{path:"/shop",component:de}),Object(n.jsx)(j.a,{path:"/",component:q})]})]}),Object(n.jsx)(Ie,{})]})})}}]),r}(s.Component),Je={loadItems:A,loadSellers:B},We=Object(L.b)((function(e){return{}}),Je)(Ge),$e=r(26),Ke=r(59),Ye=r(34),Xe={reviews:[]};var Qe={isLoading:!1};sessionStorage.loggedinUser&&JSON.parse(sessionStorage.loggedinUser);var Ze={loggedInUser:{_id:"YjSm4WSQhwbp",fullname:"Jasmine Aleksa",imgUrl:"https://res.cloudinary.com/dt1zahrqy/image/upload/v1610610532/hf/faces/27_zdptgs.jpg"},users:[]};var et={items:[],filterBy:{q:""}};var tt={sellers:[]};var rt={order:{amount:0,title:""}};var nt=Object($e.c)({systemModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"LOADING_START":return Object(W.a)(Object(W.a)({},e),{},{isLoading:!0});case"LOADING_DONE":return Object(W.a)(Object(W.a)({},e),{},{isLoading:!1});default:return e}},reviewModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_REVIEWS":return Object(W.a)(Object(W.a)({},e),{},{reviews:t.reviews});case"ADD_REVIEW":return Object(W.a)(Object(W.a)({},e),{},{reviews:[].concat(Object(Ye.a)(e.reviews),[t.review])});case"REMOVE_REVIEW":return Object(W.a)(Object(W.a)({},e),{},{reviews:e.reviews.filter((function(e){return e._id!==t.reviewId}))});case"UPDATE_REVIEW":return Object(W.a)(Object(W.a)({},e),{},{reviews:e.reviews.map((function(e){return e._id===t.review._id?t.review:e}))});default:return e}},userModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_USER":return console.log(e),console.log(t),Object(W.a)(Object(W.a)({},e),{},{loggedInUser:t.user});case"REMOVE_USER":return console.log(e),console.log(t),Object(W.a)(Object(W.a)({},e),{},{users:e.users.filter((function(e){return e._id!==t.userId}))});case"SET_USERS":return Object(W.a)(Object(W.a)({},e),{},{users:t.users});case"SET_SCORE":return Object(W.a)(Object(W.a)({},e),{},{loggedInUser:Object(W.a)(Object(W.a)({},e.loggedInUser),{},{score:t.score})});default:return e}},itemModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ITEMS":return Object(W.a)(Object(W.a)({},e),{},{items:t.items});case"ADD_ITEM":return Object(W.a)(Object(W.a)({},e),{},{items:[].concat(Object(Ye.a)(e.items),[t.item])});case"SAVE_ITEM":return Object(W.a)(Object(W.a)({},e),{},{items:e.items.map((function(e){return e._id===t.item._id?t.item:e}))});case"REMOVE_ITEM":console.log("hi");var r=Object(W.a)(Object(W.a)({},e),{},{items:e.items.filter((function(e){return e._id!==t.itemId}))});return console.log(r),r;case"FILTER":var n=Object(W.a)(Object(W.a)({},e),{},{filterBy:t.filterBy});return console.log(n),n;default:return e}},sellerModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SELLERS":return Object(W.a)(Object(W.a)({},e),{},{sellers:t.sellers});default:return e}},orderModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_OEDER":return Object(W.a)(Object(W.a)({},e),{},{order:Object(W.a)({},t.order)});default:return e}}}),st=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||$e.d,at=Object($e.e)(nt,st(Object($e.a)(Ke.a)));r(98);c.a.render(Object(n.jsx)(L.a,{store:at,children:Object(n.jsx)(We,{})}),document.getElementById("root"))}},[[99,1,2]]]);
//# sourceMappingURL=main.875cbe2d.chunk.js.map